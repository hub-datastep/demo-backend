# Сервис маппинга номенклатуры

## Описание. Целевой бизнес–процесс

Веб–сервис на базе ИИ для определения товарной группы для каждой из тысяч позиций номенклатуры в базе поставщика и автоматического сопоставления строк в базах товаров поставщиков и покупателей по смыслу.

## Архитектура

### Маппинг номенклатуры

1. Через АПИ загружается номенклатура.

    Далее для каждой номенклатуры:

2. С помощь классификатора [регрессионная модель ИИ, обученная на данных МСУ] определяется, к какой группе относится номенклатура
3. По названию номенклатуры создается embedding [векторное представление номенклатуры]
4. Среди номенклатур в векторсторе, принадлежащих к нужной группе, находится ближайшая по смыслу номенклатура с помощью косинусного расстояния.

![Схема](images/nomenclature_mapping.png)

### Синхронизация номенклатуры

В векторсторе содержатся векторные представления номенклаутуры из ДВХ МСУ.
При добавлении, изменении или удалении номенклатуры в ДВХ МСУ требуется пересчитать
векторные представления для номенклатур, которых затронули изменения.

![Схема](images/nomenclature_sync.png)


### Переобучение классификатора

После добавления или удаления групп из справочника МСУ требуется переобучение классификатора. 


## Используемые внешние продукты/сервисы

Для данного сервиса не используются внешние продукты/сервисы.